%META:TOPICINFO{author="ProjectContributor" comment="" date="1556788680" format="1.1"  version="1"}%
%META:TOPICPARENT{name="TopicView"}%
%{<verbatim class="tml">}%
%TMPL:INCLUDE{"Applications.ApplicationTopicEdit"}%
%{</verbatim>}%

%{<verbatim class="tml">}%
%TMPL:DEF{"editfields"}%TopicTitle, Summary%TMPL:END%
%{</verbatim>}%

%{<verbatim class="tml">}%
%TMPL:DEF{"detailstab"}%%TMPL:PREV%%ADDTOZONE{
   "script" 
   id="TOPICTYPE::JS" 
   requires="JQUERYPLUGIN" 
   text="<script type='text/javascript' src='%PUBURLPATH%/Applications/TopicTypeEditTemplate/script.js'></script>"
}%%TMPL:END%
%{</verbatim>}%

<verbatim class="tml">
%STARTATTACH{"script.js"}%
jQuery(function($) {
   var $modeElem = $("[name=TopicNamingMode]"),
       $set1 = $("[name=TopicNameTemplate]").parent(),
       $set2 = $("[name=TopicNameSource]").parent()
               .add($("[name=TopicNamePrefix]").parent())
               .add($("[name=TopicNameSuffix]").parent())
               .add($("[name=TopicNameTransliterate]").parents("div.foswikiFormStep:first"));

   function updateTopicNaming() {
      var val = $modeElem.filter(":checked").val();
      $set1.hide();
      $set2.hide();
      if (val === 'template') {
        $set1.fadeIn();
      } else if (val === 'derived') {
        $set2.fadeIn();
      } else {
         $modeElem.filter("[value=manual]").prop("checked", true);
      }
   }

   $modeElem.on("change", updateTopicNaming);
   updateTopicNaming();
});
%ENDATTACH%
</verbatim>

%META:FORM{name="TopicView"}%
%META:FIELD{name="TopicType" title="TopicType" value="TopicView, ApplicationTopic, WikiTopic"}%
%META:FIELD{name="TopicTitle" title="<nop>TopicTitle" value=""}%
%META:FIELD{name="Summary" title="Summary" value="Editor for TopicTypes"}%
%META:FIELD{name="WikiApplication" title="WikiApplication" value="WikiWorkbench"}%
%META:FILEATTACHMENT{name="script.js" attachment="script.js" attr="" comment="Generated by <nop>AttachContentPlugin" date="1556788680" path="script.js" size="800" user="ProjectContributor" version="1"}%
